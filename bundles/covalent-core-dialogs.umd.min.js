!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/material/dialog"),require("@angular/material/input"),require("@angular/material/button"),require("@angular/cdk/drag-drop"),require("rxjs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/icon")):"function"==typeof define&&define.amd?define("@covalent/core/dialogs",["exports","@angular/core","@angular/common","@angular/forms","@angular/material/dialog","@angular/material/input","@angular/material/button","@angular/cdk/drag-drop","rxjs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/icon"],e):e(((t=t||self).covalent=t.covalent||{},t.covalent.core=t.covalent.core||{},t.covalent.core.dialogs={}),t.ng.core,t.ng.common,t.ng.forms,t.ng.material.dialog,t.ng.material.input,t.ng.material.button,t.ng.cdk.dragDrop,t.rxjs,t.ng.material.toolbar,t.ng.material.tooltip,t.ng.material.icon)}(this,(function(t,e,o,n,i,r,a,l,c,d,s,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function p(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,i,r=o.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}var m=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"td-dialog-title"}]}],t}(),f=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"td-dialog-content"}]}],t}(),h=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"td-dialog-actions"}]}],t}(),b=function(){function t(){}return t.prototype.ngAfterContentInit=function(){if(this.dialogTitle.length>1)throw new Error("Duplicate td-dialog-title component at in td-dialog.");if(this.dialogContent.length>1)throw new Error("Duplicate td-dialog-content component at in td-dialog.");if(this.dialogActions.length>1)throw new Error("Duplicate td-dialog-actions component at in td-dialog.")},t.decorators=[{type:e.Component,args:[{selector:"td-dialog",template:'<div class="td-dialog-wrapper">\n  <h3 class="td-dialog-title" *ngIf="dialogTitle.length > 0">\n    <ng-content select="td-dialog-title"></ng-content>\n  </h3>\n  <div class="td-dialog-content" *ngIf="dialogContent.length > 0">\n    <ng-content select="td-dialog-content"></ng-content>\n  </div>\n  <div class="td-dialog-actions" *ngIf="dialogActions.length > 0">\n    <span class="td-dialog-spacer"></span>\n    <ng-content select="td-dialog-actions"></ng-content>\n  </div>\n</div>\n',styles:[".td-dialog-title{margin-top:0;margin-bottom:20px}.td-dialog-content{margin-bottom:16px}.td-dialog-actions{position:relative;top:16px;left:16px}::ng-deep [dir=rtl] .td-dialog-actions{right:16px;left:auto}:host{display:block}:host .td-dialog-actions{-ms-flex-direction:row;flex-direction:row;box-sizing:border-box;display:-ms-flexbox;display:flex}:host .td-dialog-actions .td-dialog-spacer{-ms-flex:1;flex:1}:host .td-dialog-actions ::ng-deep button{text-transform:uppercase;margin-left:8px;padding-left:8px;padding-right:8px;min-width:64px}[dir=rtl] :host .td-dialog-actions ::ng-deep button{margin-right:8px;margin-left:inherit}"]}]}],t.propDecorators={dialogTitle:[{type:e.ContentChildren,args:[m,{descendants:!0}]}],dialogContent:[{type:e.ContentChildren,args:[f,{descendants:!0}]}],dialogActions:[{type:e.ContentChildren,args:[h,{descendants:!0}]}]},t}();var y=function(){function t(t){this._dialogRef=t,this.closeButton="CLOSE"}return t.prototype.close=function(){this._dialogRef.close()},t.decorators=[{type:e.Component,args:[{selector:"td-alert-dialog",template:'<td-dialog>\n  <td-dialog-title *ngIf="title">\n    {{ title }}\n  </td-dialog-title>\n  <td-dialog-content>\n    <span class="td-dialog-message">{{ message }}</span>\n  </td-dialog-content>\n  <td-dialog-actions>\n    <button mat-button color="accent" (click)="close()">{{ closeButton }}</button>\n  </td-dialog-actions>\n</td-dialog>\n',styles:[".td-dialog-message{word-break:break-word}"]}]}],t.ctorParameters=function(){return[{type:i.MatDialogRef}]},t}();var v=function(){function t(t){this._dialogRef=t,this.cancelButton="CANCEL",this.acceptButton="ACCEPT"}return t.prototype.cancel=function(){this._dialogRef.close(!1)},t.prototype.accept=function(){this._dialogRef.close(!0)},t.decorators=[{type:e.Component,args:[{selector:"td-confirm-dialog",template:'<td-dialog>\n  <td-dialog-title *ngIf="title">\n    {{ title }}\n  </td-dialog-title>\n  <td-dialog-content>\n    <span class="td-dialog-message">{{ message }}</span>\n  </td-dialog-content>\n  <td-dialog-actions>\n    <button mat-button #closeBtn (keydown.arrowright)="acceptBtn.focus()" (click)="cancel()">{{ cancelButton }}</button>\n    <button mat-button color="accent" #acceptBtn (keydown.arrowleft)="closeBtn.focus()" (click)="accept()">\n      {{ acceptButton }}\n    </button>\n  </td-dialog-actions>\n</td-dialog>\n',styles:[".td-dialog-message{word-break:break-word}"]}]}],t.ctorParameters=function(){return[{type:i.MatDialogRef}]},t}();var w=function(){function t(t){this._dialogRef=t,this.cancelButton="CANCEL",this.acceptButton="ACCEPT"}return t.prototype.ngAfterViewInit=function(){var t=this;Promise.resolve().then((function(){t._input.nativeElement.focus()}))},t.prototype.handleInputFocus=function(){this._input.nativeElement.select()},t.prototype.cancel=function(){this._dialogRef.close()},t.prototype.accept=function(){this._dialogRef.close(this.value)},t.decorators=[{type:e.Component,args:[{selector:"td-prompt-dialog",template:'<td-dialog>\n  <td-dialog-title *ngIf="title">\n    {{ title }}\n  </td-dialog-title>\n  <td-dialog-content>\n    <span class="td-dialog-message">{{ message }}</span>\n    <form #form="ngForm" novalidate>\n      <div class="td-dialog-input-wrapper">\n        <mat-form-field class="td-dialog-input">\n          <input\n            matInput\n            #input\n            (focus)="handleInputFocus()"\n            (keydown.enter)="$event.preventDefault(); form.valid && accept()"\n            [(ngModel)]="value"\n            name="value"\n            required\n          />\n        </mat-form-field>\n      </div>\n    </form>\n  </td-dialog-content>\n  <td-dialog-actions>\n    <button mat-button #closeBtn (keydown.arrowright)="acceptBtn.focus()" (click)="cancel()">{{ cancelButton }}</button>\n    <button\n      mat-button\n      color="accent"\n      #acceptBtn\n      (keydown.arrowleft)="closeBtn.focus()"\n      [disabled]="!form.valid"\n      (click)="accept()"\n    >\n      {{ acceptButton }}\n    </button>\n  </td-dialog-actions>\n</td-dialog>\n',styles:[".td-dialog-input-wrapper{-ms-flex-direction:row;flex-direction:row;box-sizing:border-box;display:-ms-flexbox;display:flex}.td-dialog-input-wrapper .td-dialog-input{-ms-flex:1;flex:1;box-sizing:border-box}.td-dialog-message{word-break:break-word}"]}]}],t.ctorParameters=function(){return[{type:i.MatDialogRef}]},t.propDecorators={_input:[{type:e.ViewChild,args:["input",{static:!0}]}]},t}();var _=function(){function t(t,e,o,n){this._document=t,this._dialogService=e,this._dragDrop=o,this.rendererFactory=n,this._renderer2=n.createRenderer(void 0,void 0)}return t.prototype.open=function(t,e){return this._dialogService.open(t,e)},t.prototype.closeAll=function(){this._dialogService.closeAll()},t.prototype.openAlert=function(t){var e=this._createConfig(t),o=this._dialogService.open(y,e),n=o.componentInstance;return n.title=t.title,n.message=t.message,t.closeButton&&(n.closeButton=t.closeButton),o},t.prototype.openConfirm=function(t){var e=this._createConfig(t),o=this._dialogService.open(v,e),n=o.componentInstance;return n.title=t.title,n.message=t.message,t.acceptButton&&(n.acceptButton=t.acceptButton),t.cancelButton&&(n.cancelButton=t.cancelButton),o},t.prototype.openPrompt=function(t){var e=this._createConfig(t),o=this._dialogService.open(w,e),n=o.componentInstance;return n.title=t.title,n.message=t.message,n.value=t.value,t.acceptButton&&(n.acceptButton=t.acceptButton),t.cancelButton&&(n.cancelButton=t.cancelButton),o},t.prototype.openDraggable=function(t){var e=this,o=t.component,n=t.config,i=t.dragHandleSelectors,r=t.draggableClass,a=this._dialogService.open(o,n),l=new c.Subject;return a.afterOpened().subscribe((function(){var t=e._document.getElementById(a.id),o=e._dragDrop.createDrag(t);if(r){var n=t.firstElementChild;e._renderer2.addClass(n,r)}if(i&&i.length){var c=i.reduce((function(e,o){return u(e,Array.from(t.querySelectorAll(o)))}),[]);c.length>0&&o.withHandles(c)}var d=t.closest(".cdk-overlay-pane");d&&o.withRootElement(d);var s=t.closest(".cdk-overlay-container");s&&o.withBoundaryElement(s),l.next(o)})),{matDialogRef:a,dragRefSubject:l}},t.prototype._createConfig=function(t){var e=new i.MatDialogConfig;return e.width="400px",Object.assign(e,t),e},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[o.DOCUMENT]}]},{type:i.MatDialog},{type:l.DragDrop},{type:e.RendererFactory2}]},t}();var x=function(){function t(){this.docked=!1,this.dockToggled=new e.EventEmitter,this.closed=new e.EventEmitter,this.toolbarHeight=56}return t.prototype.toggleDockedState=function(){this.dockToggled.emit(this.docked)},t.decorators=[{type:e.Component,args:[{selector:"td-window-dialog",template:'<mat-toolbar\n  [color]="toolbarColor"\n  class="td-window-dialog-toolbar"\n  [style.min-height.px]="toolbarHeight"\n  [style.cursor]="docked ? \'inherit\' : \'move\'"\n>\n  <mat-toolbar-row [style.height.px]="toolbarHeight">\n    <div layout="row" layout-align="start center" flex>\n      <span class="mat-title td-window-dialog-title truncate" flex>\n        {{ title }}\n      </span>\n      \x3c!-- TODO: Resizing a drag-and-drop element was not working so removed docking/undocking for now--\x3e\n      \x3c!-- <button mat-icon-button [matTooltip]="toggleDockedStateLabel" (click)="toggleDockedState()">\n        <mat-icon [attr.aria-label]="toggleDockedStateLabel">\n          {{ docked ? \'unfold_more\' : \'unfold_less\' }}\n        </mat-icon>\n      </button> --\x3e\n\n      <button\n        mat-icon-button\n        [matTooltip]="closeLabel"\n        (click)="closed.emit()"\n        class="td-window-dialog-close"\n        [attr.data-test]="\'close-button\'"\n      >\n        <mat-icon [attr.aria-label]="closeLabel">\n          close\n        </mat-icon>\n      </button>\n    </div>\n  </mat-toolbar-row>\n</mat-toolbar>\n<ng-content></ng-content>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.td-window-dialog-title{margin-bottom:0}.td-window-dialog-close{margin-right:-8px}::ng-deep .td-window-dialog .mat-dialog-container{padding:0}"]}]}],t.propDecorators={toolbarColor:[{type:e.Input}],docked:[{type:e.Input}],title:[{type:e.Input}],toggleDockedStateLabel:[{type:e.Input}],closeLabel:[{type:e.Input}],dockToggled:[{type:e.Output}],closed:[{type:e.Output}]},t}();var D=[y,v,w,b,m,h,f,x],C=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.FormsModule,o.CommonModule,i.MatDialogModule,r.MatInputModule,a.MatButtonModule,d.MatToolbarModule,s.MatTooltipModule,g.MatIconModule],declarations:[D],exports:[D],providers:[_]}]}],t}(),k={topRight:"topRight",bottomRight:"bottomRight",bottomLeft:"bottomLeft",topLeft:"topLeft"},B="nesw-resize",R="nwse-resize",S="top",E="bottom",M="right",I="left";function T(t){return parseFloat((t||"").replace("px",""))}function L(t,e,o){return Math.min(Math.max(e,t),o)}var P=function(){function t(t,e,o,n){this._document=t,this._renderer2=e,this._dialogRef=o,this._dragRef=n,this.cornerElements=[],this.pointerDownSubs=[],this._initialPositionReset(),this._attachCorners()}return t.prototype.attach=function(){this.detach(),this._attachCorners()},t.prototype.detach=function(){var t=this;this.pointerDownSubs.forEach((function(t){return t.unsubscribe()})),this.pointerDownSubs=[],this.cornerElements.forEach((function(e){return t._renderer2.removeChild(t._getDialogWrapper(),e)})),this.cornerElements=[]},t.prototype._getDialogWrapper=function(){return(this._document.getElementById(this._dialogRef.id)||{}).parentElement},t.prototype._getViewportDimensions=function(){return this._getDialogWrapper().parentElement.getBoundingClientRect()},t.prototype._getDialogWrapperDimensions=function(){var t=getComputedStyle(this._getDialogWrapper());return{width:T(t.width),height:T(t.height)}},t.prototype._initialPositionReset=function(){var t,e,o=this._getViewportDimensions(),n=o.right,i=o.bottom,r=this._getDialogWrapperDimensions(),a=r.width,l=r.height,c=this._getDialogWrapper().style,d=c.marginRight,s=c.marginLeft,g=c.marginBottom,p=c.marginTop;t=s?T(s):d?n-T(d)-a:(n-a)/2,e=p?T(p):g?i-T(g)-l:(i-l)/2,this._dialogRef.updatePosition({top:"0px",right:"0px",bottom:"0px",left:"0px"}),this._dragRef.setFreeDragPosition({x:t,y:e})},t.prototype._attachCorners=function(){var t=this;Object.values(k).forEach((function(e){var o,n,i,r=t._renderer2.createElement("div");if(t.cornerElements=u(t.cornerElements,[r]),t._renderer2.setStyle(r,"position","absolute"),t._renderer2.setStyle(r,"width","16px"),t._renderer2.setStyle(r,"height","16px"),t._renderer2.appendChild(t._getDialogWrapper(),r),e===k.topRight)o=B,n=S,i=M;else if(e===k.bottomRight){o=R,n=E,i=M;var a=t._renderer2.createElement("i");t._renderer2.addClass(a,"material-icons"),t._renderer2.appendChild(a,t._renderer2.createText("filter_list")),t._renderer2.appendChild(r,a),t._renderer2.setStyle(a,"transform","rotate(315deg) translate(0px, 0px)"),t._renderer2.setStyle(a,"font-size","16px")}else e===k.bottomLeft?(o=B,n=E,i=I):e===k.topLeft&&(o=R,n=S,i=I);t._renderer2.setStyle(r,n,"0px"),t._renderer2.setStyle(r,i,"0px"),t._renderer2.setStyle(r,"cursor",o);var l=c.fromEvent(r,"pointerdown").subscribe((function(o){t._handleMouseDown(o,e)}));t.pointerDownSubs=u(t.pointerDownSubs,[l])}))},t.prototype._handleMouseDown=function(t,e){var o=this;this._renderer2.setStyle(this._document.body,"user-select","none");var n=this._getDialogWrapperDimensions(),i=n.width,r=n.height,a=t.pageX,l=t.pageY,d=this._dragRef.getFreeDragPosition(),s=d.x,g=d.y,p=this._getDialogWrapper().getBoundingClientRect(),u=p.bottom,m=p.right,f=this._getViewportDimensions(),h=f.right,b=f.bottom,y=c.fromEvent(window,"pointermove").subscribe((function(t){t.preventDefault();var n,c,d=L(0,t.pageY,b)-l,p=L(0,t.pageX,h)-a,f=0,y=0;e===k.topRight?(n=L(200,r-d,b),c=L(200,i+p,h),f=L(0,g+d,u-n),y=s):e===k.bottomRight?(n=L(200,r+d,b),c=L(200,i+p,h),f=g,y=s):e===k.bottomLeft?(n=L(200,r+d,b),c=L(200,i-p,h),f=g,y=L(0,s+p,m-c)):e===k.topLeft&&(n=L(200,r-d,b),c=L(200,i-p,h),y=L(0,s+p,m-c),f=L(0,g+d,u-n)),o._dialogRef.updateSize(c+"px",n+"px"),o._dragRef.setFreeDragPosition({x:y,y:f})})),v=c.merge(c.fromEvent(window,"pointerup"),c.fromEvent(window,"pointercancel")).subscribe((function(){o._renderer2.removeStyle(o._document.body,"user-select"),y.unsubscribe(),v.unsubscribe()}))},t}();t.CovalentDialogsModule=C,t.ResizableDraggableDialog=P,t.TdAlertDialogComponent=y,t.TdConfirmDialogComponent=v,t.TdDialogActionsDirective=h,t.TdDialogComponent=b,t.TdDialogContentDirective=f,t.TdDialogService=_,t.TdDialogTitleDirective=m,t.TdPromptDialogComponent=w,t.ɵa=x,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-core-dialogs.umd.min.js.map